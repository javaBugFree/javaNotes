
查询全部分类的业务重点在 **构建三级分类树结构**  
  
我们需要将从数据库中查询出的分类对象 *构成下面的结构*：
```json  
[  
    {id:1,name:"手机/运营商/数码",parentId:0,depth:1,children:[  
        {id:2,name:"手机通讯",parentId:1,depth:2,children:[  
            {id:3,name:"智能手机",parentId:2,depth:3,children:null},  
            {id:4,name:"非智能手机",parentId:2,depth:3,children:null}  
        ]},    
    ]},    
    {id:5,name:"电脑/办公",parentId:0,depth:1,children:[....]}  
]  
```
上面是我们 *需要获得的对象的结构*。

可以理解为下图：
![[三级分类树结构.png]]

在 *数据库mall_pms* 中，有 *pms_category表*，这个表就是保存全部分类信息的表格：
```
id：主键
name：显示在页面上的分类名称
parentId：父分类的id   如果是一级分类父分类id为0
depth：分类深度,当前项目就是3级分类,1\2\3 分别代表它的等级
keyword：搜索关键字
sort：排序依据 正常查询时,根据此列进行排序,数字越小越出现在前面(升序)
icon：图标地址
enable：是否可用
isparent：是否为父分类  0 假  1真
isdisplay：是否显示在导航栏  0不显示  1显示
```


