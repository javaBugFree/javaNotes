
## 用户 / 角色 / 权限

用户是一个基本的单位，我们登录时都是在 *登录用户* 的，
我们在*登录后*需要*明确*这个*用户具有哪些角色*。

**用户和角色** 的关系是 *多对多*。
用户是一张表，角色也是一张表，因为它们是多对多的关系所以要有一张保存 *用户和角色关系的中间表*。
  
*角色*也*不能直接决定*这个用户能做什么操作，有哪些*权限*，
需要再关联权限表决定，*角色和权限* 也是 **多对多** 的关系，也要有中间表。
  
如果项目开发的权限比较全面，可能会出现 **临时 用户权限 关系表**（例如学生代班主任进行点名）。


## Spring Security

Spring Security框架用于实现 登录、内置加密、验证、放行等各种功能，可靠性强，
同时还可以将当前登录用户的信息保存。

特别的，对于用户具备的权限，有特殊的管理。
在 **控制器** *运行前*，可以使用 *注解* 来判断当前登录用户是否具备某个权限：
`@PreAuthorize("[权限名称]")`
  
SpringSecurity在运行该方法之前进行核查，如果 *不具备* 这个权限会返回 *403状态码*。

[[19.基于Spring Security与JWT实现单点登录]]
