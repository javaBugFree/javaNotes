
## 持久层

之前新增购物车时就已经开发过了


## 开发业务逻辑层

*OmsCartServiceImpl* 添加方法：
```java
// 修改购物车中sku商品数量  
@Override  
public void updateQuantity(CartUpdateDTO cartUpdateDTO) {  
    // 要执行修改数量，需要参数类型为OmsCart，所以先实例化它  
    OmsCart omsCart = new OmsCart();  
    // 当前方法参数cartUpdateDTO中包含了id和quantity属性，赋值给omsCart对象即可  
    BeanUtils.copyProperties(cartUpdateDTO, omsCart);  
  
    // 执行修改  
    omsCartMapper.updateQuantityById(omsCart);  
}
```


## 开发控制层

*OmsCartController*：
```java
@PostMapping("/upadate/quantity")  
@ApiOperation("修改购物车中sku商品数量")  
@PreAuthorize("hasRole('user')")  
public JsonResult updateQuantity(@Validated CartUpdateDTO cartUpdateDTO) {  
    omsCartService.updateQuantity(cartUpdateDTO);  
    return JsonResult.ok("修改完成");  
}
```