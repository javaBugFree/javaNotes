
首先，common模块中的restful包中的JsonPage类并没有将Page类型转换为JsonPage类型的方法，所以需要添加：
1. 添加SpringData相关的依赖
```xml
<!-- Spring Data Elasticsearch 整合SpringBoot依赖 -->  
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-data-elasticsearch</artifactId>  
</dependency>
```
2. 在JsonPage类中添加方法
```java
/**  
 * 将SpringData框架，分页后的Page类型转换为JsonPage类型
 * 需要添加SpringData相关的依赖  
 */  
public static <T> JsonPage<T> restPage(Page<T> page, Integer pages, Integer pageSize) {  
  
    JsonPage<T> result = new JsonPage<>();  
    result.setPage(pages);  
    result.setPageSize(pageSize);  
    result.setTotal(page.getTotalElements());  
    result.setTotalPage(page.getTotalPages());  
    result.setList(page.getContent());  
  
    return result;  
}
```

*SearchServiceImpl*类添加实现方法如下：
```java
// 根据用户输入的关键字分页搜索ES中的数据  
@Override  
public JsonPage<SpuForElastic> search(String keyword, Integer page, Integer pageSize) {  
    // 分页条件中，page是1表示查询第一页，但是ES页码从0开始，所以page-1  
    Page<SpuForElastic> spus = spuRepository.querySearch(keyword, PageRequest.of(page - 1, pageSize));  
  
    // 查询完毕，需要将spus转换为JsonPage类型  
    JsonPage<SpuForElastic> jsonPage = JsonPage.restPage(spus, page, pageSize);  
  
    // 别忘了返回  
    return jsonPage;  
}
```

