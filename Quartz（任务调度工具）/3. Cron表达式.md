
**Cron表达式** 是能够 **制定触发时间** 的一个 *格式*。

![[Cron表达式.png]]

表示 *2023年4月4日凌晨4点* 触发的cron表达式
> 0 0 4 4 4 ? 2023

表示 *2023年5月1日早上9点* 触发
> 0 0 9 L 5 ? 2023
  
- `*`：表示 **任何值**，如果在分的字段上编写*，表示每分钟都会触发。
- `,`：是个 **分割符**，如果秒字段，我想20秒和40秒时触发两次就写  20,40*
- `-`：表示 **一个区间**，秒字段 5-10：表示 5,6,7,8,9,10*
- `/`： 表示 **递增触发**，秒字段 5/10：表示5秒开始每隔10秒触发一次。
    - 日字段编写1/3表示从每月1日起每隔3天触发一次（1,4,7,10*）。

- `?`：表示 **不确定值**，*不关心此值*。因为我们在定日期时，一般确定日期就不确定是周几，相反确定周几时就不确定日期。
- `L`：（*last*）表示 **最后** 的意思，我们可以设置当月的最后一天，就会在日字段用L表示
    - *周字段*使用L表示本月的最后一个周几，一般会*和1-7的数字组合*。
        - 例如，*6L*：表示本月的 *最后一个周五*。

* `W`：(*work*）表示 **最近的工作日**（单纯的周一到周五）
    - 在*日字段* 编写 *15W* 表示：每月15日最近的工作日触发，如果15日是周六就14日触发，如果15日是周日就16日触发。
    - *LW* 通常一起使用，表示本月的*最后一个工作日*。

* `#`：表示第几个，只能使用在*周字段*上，*6#3* 表示每月的*第三个周五*。
    - 如果#后面数字*写大了*，是一个*不存在的日期*，那就*不运行了*。
    - 适合设计在母亲节（五月第二个星期日）或父亲节（六月第三个星期日）这样的日期运行  


推荐一个 [Cron - 在线Cron表达式生成器 (ciding.cc)](http://cron.ciding.cc/)


## 练习题

每年双十一运行
`0 0 0 11 11 ?`

每年的母亲节（5月份的第三个周日）早上9点触发
`0 0 9 ? 5 1#3`

每个月10日14点发工资，如果10日是休息日，就在最近的工作日发
`0 0 14 10W * ?`