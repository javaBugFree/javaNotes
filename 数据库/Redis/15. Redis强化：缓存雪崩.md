
上面讲到击穿现象，
同一时间发生 *少量击穿* 是 *正常* 的，但是如果出现 *同一时间* **大量击穿** 现象就会如下图。

![[Redis缓存雪崩.png]]

所谓 **缓存雪崩**，指的就是Redis中保存的数据，*短时间内* 有 **大量数据同时到期** 的情况。

如上图所示，本应该由Redis反馈的信息，由于雪崩都去访问了Mysql，mysql承担不了，非常可能导致异常。
  
要想避免这种情况，就 **需要避免大量缓存同时失效**。
  
大量缓存同时失效的原因：**通常是 同时加载的数据 设置了相同的有效期导致的。**
所以我们在向Redis中保存数据时，最好在 *固定有效期* 的基础上再 *添加一个随机数*。

可以在加载到Redis时，设置的 *有效期* 后面 *加一个随机数*。