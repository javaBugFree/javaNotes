
在Spring Boot项目中，**默认**是*不允许*执行任何计划任务的。

如果需要开启，
1. 需要在**计划任务 配置类上** *添加`@EnableScheudling`注解* 来开启。
    - 在根包下创建 *config.ScheduleConfiguration* 配置类
    ```java
    /**  
	 * 计划任务的配置类  
	 */  
	@Slf4j  
	@Configuration  
	@EnableScheduling   // 开启计划任务
	public class ScheduleConfiguration {  
	    public ScheduleConfiguration() {  
	        log.debug("创建配置类对象：ScheduleConfiguration");  
	    }  
	}
	```
2. 在Spring Boot项目中，在 **任何组件类** 的 **任何方法**（*公有的、`void`返回类型的、无参数列表的*）上，*添加`@Scheudled`注解*，即可使得此方法是计划任务方法
    ```java
    /**  
	 * 模拟 计划任务 类  
	 */  
	@Slf4j  
	@Component  
	public class CacheSchedule {  
	  
	    // fixedRate：执行频率，以毫秒为单位  
	    @Scheduled(fixedRate = 5 * 1000)  
	    public void a() {  
	        log.debug("执行了计划任务");  
	    }  
	  
	}
	```
3. 在`@Scheduled`注解上，需要*配置注解参数*来确定计划任务的*执行周期 或 执行时间点*。
    - *fixedRate*：执行**频率**，以毫秒为单位。以上一次执行的*起始时间*开始计算下一次的执行时间
        - `@Scheduled(fixedRate = 5 * 1000)`
        - 按照以上配置，计划任务的执行频率就是5秒。
    - *fixedDelay*：执行**间隔**，以毫秒为单位。以上一次执行的*结束时间*开始计算下一次的执行时间
        - `@Scheduled(fixedDelay = 5 * 1000)`
    - *cron*：**定时** 执行，取值是一个*字符串*，此字符串是一个表达式，包含6~7个值，各值之间*使用空格进行分隔*。
        - 在cron表达式中，各值表示的意义*依次*是：**秒 分 时 日 月 星期 \[年]**
        - 例如：`@Scheduled(cron = "0 0 5 xx xx xx")`：表示 5:00:00 执行该计划任务。
        - 各值均可使用通配符表示
            - 使用 *星号（ * ）* 表示*任意值*，表示每一个单位时间都会运行。
            - 使用 *问号（ ? ）* 表示*不关心此值*。此通配符 **仅能用于** *日 星期* 的值
                - 若使用通配符，至少 日 和 星期 之间得有一个 *"?"*
            - *例如*： 56 34 12 13 3 ? 2023，表示2023年3月13日12:34:56会执行此任务，无视当天星期几。
        - 在 cron表达式中的各值还可以使用 `x/y` 格式的值
            - 例如在 “分” 的位置配置 1/5，表示分钟值为1时执行，且每隔5分钟执行1次。
        - 还可以使用 `L` 表示Last，
            - 多用于表示 2月最后一天。

**注意**：通过`fixedRate`或`fixedDelay`配置的计划任务的 **首次执行**是*项目启动时* 就执行了（严格来说，是在项目完成启动的前一刻开始第1次执行），*所以*，使用这种计划任务时，可以不必再使用`ApplicationRunner`来处理缓存预热。

```
【CRON表达式示例】  
“30 * * * * ?” 每到半分钟触发任务  
“30 10 * * * ?” 每小时的10分30秒触发任务  
“30 10 1 * * ?” 每天1点10分30秒触发任务  
“30 10 1 20 * ?” 每月20号1点10分30秒触发任务  
“30 10 1 20 10 ? *” 每年10月20号1点10分30秒触发任务  
“30 10 1 20 10 ? 2011” 2011年10月20号1点10分30秒触发任务  
“30 10 1 ? 10 * 2011” 2011年10月每天1点10分30秒触发任务  
“30 10 1 ? 10 SUN 2011” 2011年10月每周日1点10分30秒触发任务  
“15,30,45 * * * * ?” 每到15秒，或30秒，或45秒时触发任务  
“15-45 * * * * ?” 15到45秒内，每秒都触发任务  
“15/5 * * * * ?” 每分钟的每15秒开始触发，每隔5秒触发一次  
“15-30/5 * * * * ?” 每分钟的15秒到30秒之间开始触发，每隔5秒触发一次  
“0 0/3 * * * ?” 每小时的第0分0秒开始，每三分钟触发一次  
“0 15 10 ? * MON-FRI” 星期一到星期五的10点15分0秒触发任务  
“0 15 10 L * ?” 每个月最后一天的10点15分0秒触发任务  
“0 15 10 LW * ?” 每个月最后一个工作日的10点15分0秒触发任务  
“0 15 10 ? * 5L” 每个月最后一个星期四的10点15分0秒触发任务  
“0 15 10 ? * 5#3” 每个月第三周的星期四的10点15分0秒触发任务  
参考：https://blog.csdn.net/stone_bk/article/details/124005751
```