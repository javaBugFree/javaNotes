
## 数据库索引简介

所谓的索引（index）其实就是*数据目录*。

通常情况下，索引是 *为了* **提高查询效率** 的。

数据库索引分 **两大类**：
- **聚集索引**：
    - 聚集索引就是 *数据库保存数据* 的 *物理顺序依据*，*默认情况下* 就是 **主键id**，所以按id查询数据库中的数据效率非常高。
- **非聚集索引**：
    - 如果想在 **非主键列** 上 *添加索引*，就是非聚集索引了。


- **注意：**
    - 用 **主键id(聚集索引)** 来查询，*效率非常高*，所以能用id查就用id。
    - 使用 **非聚集索引** 时，不能进行 *前 模糊查询(`%张`)*。

例如：
```
*以字典偏旁为索引查询*
火字旁：
   页数
爆 73
灿 123
炊 140
烂 268
燃 340
烧 420
烟 577
炸 620

*数据库中添加 姓名列 的索引*
姓张 的姓名
张三丰 80
张三 107
张飞 120
张自忠 185
张衡 222
张无忌 230
```

例如我们在数据库表中存在一个姓名列，我们为姓名列创建索引，
在创建索引时，会根据姓名内容来创建索引。
例如"张三丰" 这个姓名，创建索引后查询效率就会明显提升，
如果没有索引，这样的查询就会引起效率最低的"逐行搜索"，就是一行一行的查这个数据的姓名是不是张三丰，效率就会非常低。

模糊查询时因为 '`%鼠标%`'，使用的是 **前模糊条件**，使用 **索引** *必须明确前面的内容是什么*，**前模糊查询是 不能使用索引的**，只能是全表的逐行搜索，所以效率非常低  。
所以当我们项目中设计了根据用户输入关键字进行模糊查询时，需要使用 **全文搜索引擎** 来优化。

> ***索引面试题***
>  
> 1. 创建的索引会 *占用硬盘空间*。
>  
> 2. 创建索引之后，对该表进行 **增删改操作** 时，*会引起索引的* **更新**，所以效率会降低。
>  
> 3. 对数据库进行 **批量新增** 时，*先删除索引*，*增加完毕之后 再创建*。
>  
> 4. **不要** 对 *数据样本少的列*(性别：男女) 添加索引。
>  
> 5. 模糊查询时，查询条件 *前模糊* 的情况，是 *无法启用索引* 的。
>  
> 6. 每次从数据表中 **查询的数据** 的 *比例越高*(100万条数据查出来80万条)，索引的 *效果越低*