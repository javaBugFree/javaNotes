
## 什么是logstash  
  
**Logstash** 是一款 *开源* 的 **日志采集，处理，输出** 的软件，*每秒可以处理数以万计条数据*，*可以同时 从多个来源* **采集数据，转换数据，然后将数据输出*** 至 *自己喜欢的存储库中*（官方推荐的存储库为Elasticsearch）。

![[Logstash运行流程.png]]
  
上面图片 **数据源** *可以是* **任何产生数据的介质**，数据库、redis、java的日志文件均可。

**输出目标** 一般也是 **能够保存数据的媒体**，数据库，redis，ES等。
  
**LogStash内部** 有3个处理数据的步骤：
- *input*：将数据源的数据 **采集** 到Logstash。
- *filter*：（非必要）如果需要可以对采集到的数据进行 **处理**。
- *output*：将处理好的数据 **保存** 到目标(一般就是ES)。
  
其中采集数据的用法比较多样，还支持各种插件。


## logstash实现 数据库和ES数据 的同步

[[3. logstash实现 数据库和ES数据 的同步]]


## 实现虚拟机ES搜索功能
  
[[4. 实现虚拟机ES搜索功能]]


## Logstash下ES的运行流程
  
安装配置好相关软件后  
  
logstash会自动监听指定的表(一般指定监听gmt_modified列)  
  
当gmt_modified列值变化时,logstash就会收集变化的行的信息  
  
周期性的向ES进行提交  
  
数据库中变化的数据就会自动同步到ES中了  
  
这样,我们在程序中,就无需编写任何同步ES和数据库的代码