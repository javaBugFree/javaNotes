
在默认情况下，不允许向服务器端提交异步的跨域访问请求。

*跨域*：客户端于服务端并不在同一个域。
*同一个域*：*主机*相同，*端口*相同。

当客户端向服务器端提交 **跨域（提交请求的、被请求的，不在同一台服务器、或不是同一端口号）** 的异步请求时，*默认情况下，服务器端都是不支持的*，所以，在客户端的浏览器的控制台会提示以下错误，例如使用edge时：
```
Access to XMLHttpRequest at 'http://localhost:8090/albums/add-new' from origin 'http://localhost:9000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
```

<br>

要解决这个问题，服务器端必须允许跨域访问！
1. 在 *基于Spring MVC的项目* 中，需要 **自定义配置类**，实现`WebMvcConfigurer`接口，重写其中的`addCorsMappings()`方法，在其中*配置允许跨域的访问*。  
  
2. 在`csmall-product`项目中，在项目的根包下，创建`config.WebMvcConfiguration`配置类，通过此类配置允许跨域访问：  
  
```java
@Slf4j
@Configuration
public class WebMvcConfiguration implements WebMvcConfigurer {
	
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        // 目前代码比较粗糙，所有的源都可以跨域访问
        
        /*  
		 /album/*   允许有一个 "/"    
			表示 /albums/add-new  /albums  /albums/9527 可以     
			而 /albums/9527/delete 不可以  
		 /album/**   允许有多个 "/" 
			则都可以表示  
		*/
        
        registry.addMapping("/**")
                .allowedOriginPatterns("*")
                .allowedHeaders("*")   // 请求头
                .allowedMethods("*")   // 请求方法
                .allowCredentials(true)
                .maxAge(3600);
    }
}
```
  
3. 完成后，*重启 服务器端项目*，*客户端 再次提交请求*，在浏览器的控制台中可以看到，不再出现跨域的错误信息。