
在项目的根包下创建`pojo.dto.AlbumUpdateDTO`类：  
```java  
@Data  
public class AlbumUpdateDTO implements Serializable {  
    /**  
	 * 修改后的相册名称  
	 */  
	@ApiModelProperty(value = "相册名称", required = false, example = "相册01")  
	private String name;  
	  
	/**  
	 * 修改后的相册简介  
	 */  
	@ApiModelProperty(value = "相册简介", required = false, example = "相册的简介01")  
	private String description;  
	  
	/**  
	 * 修改后的排序序号  
	 */  
	@ApiModelProperty(value = "排序序号", required = false, example = "99")  
	private Integer sort;
	}
```  
  
在`IAlbumService`接口中添加抽象方法：  
```java  
/**  
 * 修改相册  
 *  
 * @param id 要修改的相册的id  
 * @param albumUpdateDTO 封装修改后的数据  
 */  
void updateInfoById(Long id, AlbumUpdateDTO albumUpdateDTO);
```  
  
在`AlbumServiceImpl`类中实现以上抽象方法：  
```java  
public void updateInfoById(Long id, AlbumUpdateDTO albumUpdateDTO) {
	// 调用Mapper的getStandardById()执行查询，检查数据是否不存在
	// 是：数据不存在，抛出异常
	AlbumStandardVO albumVO = albumMapper.getStandardById(id);  
	if (albumVO == null) {  
	    String message = "修改失败，相册不存在！";  
	    log.warn(message);  
	    throw new ServiceException(ServiceCode.ERR_NOT_FOUND, message);  
	}
	
	// 调用Mapper的countByNameAndNotId()执行查询，检查新的名称是否已经被别的数据占用
	// 是：名称被别的数据占用，抛出异常（ERR_CONFLICT）
	int count = albumMapper.countByNameAndNotId(id, albumUpdateDTO.getName());  
	if (count > 0) {  
	    String message = "修改失败，新的相册名称已被占用！";  
	    log.warn(message);  
	    throw new ServiceException(ServiceCode.ERR_CONFLICT, message);  
	}
	
    // 创建Album对象  
    // 将参数对象的属性值复制到以上新创建的Album对象中
    // 调用Mapper的update(Album album)方法执行修改  
    Album album = new Album();  
	// 复制属性值  
	BeanUtils.copyProperties(albumUpdateDTO, album);  
	album.setId(id);
	  
	log.debug("开始修改数据，数据为【{}】", album);  
	albumMapper.update(album);  
	log.debug("修改完成！");
}  
```  
  
在`AlbumServiceTests`中编写并执行测试：  
  
```java  
@Test  
void updateInfoById() {  
	
	Long id = 14L;
	
    AlbumUpdateDTO albumUpdateDTO = new AlbumUpdateDTO();  
    albumUpdateDTO.setName("01");  
    albumUpdateDTO.setDescription("01");  
    albumUpdateDTO.setSort(1);  
	
    try {  
        service.updateInfoById(id, albumUpdateDTO);  
        log.debug("修改相册成功");  
    } catch (ServiceException e) {  
        log.debug("捕获到异常，其中的消息：{}", e.getMessage());  
    }  
    
}
```