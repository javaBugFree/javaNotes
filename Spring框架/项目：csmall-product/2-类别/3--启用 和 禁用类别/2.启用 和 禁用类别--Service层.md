
在`CategoryService`接口中添加抽象方法：
```java
// 两种方法
void xx(DTO dto);  // DTO >>> id , enable

void xx(Long id, Integer enable);    // 废弃

void setEnable(Long id);  // 启用 >>> enable:1
void setDisable(Long id);  // 禁用 >>> enable:0
```

在`CategoryServiceImpl`类中实现以上方法：
```java
public void setEnable(Long id){
	updateEnableById(id, 1);
}
public void setDisable(Long id){
	updateEnableById(id, 0);
}
private void updateEnableById(Long id, Integer enable){
	// 检查
	// 调用Mapper对象的getStandardById()方法进行查询，
	// 判断查询结果是否为null
	// 是：抛出异常（NOT_FOUND）
	
	// 判断以上查询结果中的enable是否与参数enable相同
	// 是：抛出异常（CONFLICT）
	
	// 创建Category对象，并将2个参数的值封装起来
	// 调用Mapper对象的update()执行更新，并获取返回结果，判断是否符合预期值
}
```
具体实现为：
```java
// 更改是否启用  
@Override  
public void setEnable(Long id) {  
    updateEnableById(id,1);  
}  
@Override  
public void setDisable(Long id) {  
    updateEnableById(id,0);  
}  
private void updateEnableById(Long id, Integer enable) {  
  
    String[] enableText = {"禁用", "启用"};  // 用来拼接字符串  
  
    log.debug("开始处理【{}类别】的业务，ID：{}，目标状态：{}", enableText[enable], id, enableText);  
  
    // 检查  
    // 调用Mapper对象的getStandardById()方法进行查询，  
    CategoryStandardVO categoryStandardVO = categoryMapper.getStandardById(id);  
    // 判断查询结果是否为null  
    if (categoryStandardVO == null) {  
        // 是：抛出异常（NOT_FOUND）  
        String message = enableText[enable] + "类别失败，尝试访问的类别数据不存在！";  
        log.warn(message);  
        throw new ServiceException(ServiceCode.ERR_NOT_FOUND, message);  
    }  
  
    // 判断以上查询结果中的enable是否与参数enable相同  
    if (categoryStandardVO.getEnable() == enable) {  
        // 是：抛出异常（CONFLICT）  
        String message = enableText[enable] + "类别失败，当前类别已经处理为" + enableText[enable] + "状态！";  
        log.warn(message);  
        throw new ServiceException(ServiceCode.ERR_CONFLICT, message);  
    }  
  
  
    // 创建Category对象，并将2个参数的值封装起来  
    Category category = new Category();  
    category.setId(id);  
    category.setEnable(enable);  
    // 调用Mapper对象的update()执行更新，并获取返回结果，判断是否符合预期值  
    int update = categoryMapper.update(category);  
    if (update != 1) {  
        String message = enableText[enable] + "类别失败，服务器忙，请稍后再次尝试！";  
        log.warn(message);  
        throw new ServiceException(ServiceCode.ERR_UPDATE, message);  
    }  
  
}
```

在`CategoryServiceTests`中编写并执行测试：
```java
@Test  
void setEnable() {  
    Long id = 72L;  
  
    try {  
        categoryService.setEnable(id);  
        log.debug("启用类别成功！");  
    } catch (ServiceException e) {  
        log.debug("捕获到异常，其中的消息：{}", e.getMessage());  
    }  
}  
  
@Test  
void setDisable() {  
    Long id = 72L;  
  
    try {  
        categoryService.setDisable(id);  
        log.debug("禁用类别成功！");  
    } catch (ServiceException e) {  
        log.debug("捕获到异常，其中的消息：{}", e.getMessage());  
    }  
}
```
